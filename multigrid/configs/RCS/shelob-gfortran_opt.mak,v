head	1.1;
access;
symbols;
locks
	ps:1.1; strict;
comment	@# @;


1.1
date	2014.03.12.08.58.15;	author ps;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@# corei7 with avx
CC  = gcc-4.8.2 -Wall -m64 -mavx -O3 -march=native -mtune=native
F90 = gfortran-4.8.2 -m64 -mavx -O3 -march=native -mtune=native -fopenmp \
      -ffast-math -fcx-fortran-rules -mrecip \
      -fexternal-blas -fblas-matmul-limit=50 \
      -fno-realloc-lhs -fbacktrace -g \
      -static
# -traceback causes crashes for some sources, which appear to be fine
F90L = $(F90) 
LAPACK = -llapack -lopenblas
FFTW3 = -lfftw3_threads -lfftw3f_threads -lfftw3 -lfftw3f
DXINC = -DUSE_DX -I/opt/dx/include
DXLIB = -L/opt/dx/lib_linux/ -lDXlite 
LIBEXTRA = -Wl,--whole-archive -lpthread -Wl,--no-whole-archive

fftw.o:	fftw_fftw3.f90 accuracy.o
	$(F90) -c fftw_fftw3.f90 -o fftw.o

arpack_zmin.o: arpack_zmin.f
	$(F90) -c arpack_zmin.f
#	$(F90) -c -fno-check=do arpack_zmin.f
@
